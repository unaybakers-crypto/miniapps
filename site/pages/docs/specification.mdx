---
title: Specification
description: Specification for Farcaster Mini Apps
---

# Specification

A Mini App is a web application that renders inside a Farcaster client.


## Mini App Embed

The primary discovery points for Mini Apps are social feeds. Mini App Embeds
are an OpenGraph-inspired metadata standard that lets any page in a Mini App
be rendered as a rich object that can launch user into an application.

![mini app embed](/frame-schematic.png)

### Versioning

Mini App Embeds will follow a simple versioning scheme where non-breaking
changes can be added to the same version but a breaking change must accompany a
version bump.

### Metatags

A Mini App URL must have a FrameEmbed in a serialized form in the `fc:frame` meta tag in the HTML `<head>`. When this URL is rendered in a cast, the image is displayed in a 3:2 ratio with a button underneath. Clicking the button will open a Mini App to the provided action url and use the splash page to animate the transition.

```html
<meta name="fc:frame" content="<stringified Embed JSON>" />
```

### Schema

| Property | Type   | Required | Description             | Constraints                                   |
|----------|--------|----------|-------------------------|-----------------------------------------------|
| version  | string | Yes      | Version of the embed.   | Must be "1" or "next"                         |
| imageUrl | string | Yes      | Image url for the embed | Max 512 characters. Must be 3:2 aspect ratio. |
| button   | object | Yes      | Button                  |                                               |

#### Button Schema 

| Property | Type   | Required | Description          | Constraints                |
|----------|--------|----------|----------------------|----------------------------|
| title    | string | Yes      | Mini App name.       | Max length 32 characters   |
| action   | object | Yes      | Action               | Max length 512 characters. |


#### Action Schema

| Property              | Type   | Required | Description                              | Constraints                                  |
|-----------------------|--------|----------|------------------------------------------|----------------------------------------------|
| type                  | string | Yes      | Mini App name.                           | Max length 32 characters                     |
| url                   | string | Yes      | App URL to open                          | Max length 512 characters.                   |
| name                  | string | No       |                                          | Name of the application                      |
| splashImageUrl        | string | No       | URL of image to show on loading screen.  | Max length 32 characters. Must be 200x200px. |
| splashBackgroundColor | string | No       | Hex color code to use on loading screen. | Hex color code.                              |



##### Example

```json
{ 
  "version": "next",
  "imageUrl": "https://yoink.party/framesV2/opengraph-image",
  "button": {
    "title": "ðŸš© Start",
    "action": {
      "type": "launch_frame",
      "name": "Yoink!",
      "url": "https://yoink.party/framesV2",
      "splashImageUrl": "https://yoink.party/logo.png",
      "splashBackgroundColor": "#f5f0ec"
    }  
  }
}
```


## App Surface

![https://github.com/user-attachments/assets/66cba3ca-8337-4644-a3ac-ddc625358390](https://github.com/user-attachments/assets/66cba3ca-8337-4644-a3ac-ddc625358390)


### Header

Hosts should render a header above the Mini App that includes the name and
author specified in the manifest. Clients should show the header whenever the
Mini App is launched.


### Splash Screen

Hosts should show a splash screen as soon as the app is launched. The icon
and background must be specified in the Mini App manifest or embed meta tags.
The Mini App can hide the splash screen once loading is complete.

![splash schematic](/splash_screen_schematic.png)


### Size & Orientation

A Mini App should be rendered in a vertical modal. Mobile Mini App sizes should
be dictated by device dimensions while web Mini App sizes should be set to
424x695px.



## SDK

Mini Apps can communicate with their Host using a JavaScript SDK. At this time
there is no formal specification for the message passing format, Hosts and Apps
should use the open-source NPM packages that can be found in the
[farcasterxyz/miniapps](https://github.com/farcasterxyz/miniapps) repo.

This SDK facilitates communication over a `postMessage` channel available in
iframes and mobile WebViews.


### Versioning

The SDK is versioned using [Semantic Versioning](https://semver.org/). A
[What's New page](/docs/sdk/changelog) is maintained to communicate developer
impacting changes. A [lower level
changelog](https://github.com/farcasterxyz/miniapps/blob/main/packages/frame-sdk/CHANGELOG.md)
is maintained within the code base to document all changes.


### API

- [context](/docs/sdk/context) - provides information about the context the Mini App is running in

#### Actions
- [addFrame](/docs/sdk/actions/add-frame) - Prompts the user to add the Mini App
- [close](/docs/sdk/actions/close) - Closes the Mini App
- [composeCast](/docs/sdk/actions/compose-cast) - Prompt the user to cast
- [ready](/docs/sdk/actions/ready) - Hides the Splash Screen
- [signin](/docs/sdk/actions/sign-in) - Prompts the user to Sign In with Farcaster
- [openUrl](/docs/sdk/actions/open-url) - Open an external URL
- [viewProfile](/docs/sdk/actions/view-profile) - View a Farcaster profile

#### Wallet
- [ethProvider](/docs/sdk/wallet) - [EIP-1193 Ethereum Provider](https://eips.ethereum.org/EIPS/eip-1193)

### Events

The SDK allows Mini Apps to [subscribe to events](/docs/sdk/events) emitted by the Host.


## Manifest

Mini Apps can publish metadata that allows Farcaster clients to more deeply
integrate with their Mini App. This file is published at
`/.well-known/farcaster.json` and the [Fully Qualified Domain
Name](https://en.wikipedia.org/wiki/Fully_qualified_domain_name) where it is
hosted uniquely identifies the Mini App. The Manifest contains data that allows
Farcaster clients to verify the author of the app, present the Mini App in
discovery surfaces like app stores, and allows the Mini App to send
notifications.

### Versioning

Manfiests will follow a simple versioning scheme where non-breaking
changes can be added to the same version but a breaking change must accompany a
version bump.


### Schema

| Property           | Type   | Required | Description                                      |
|--------------------|--------|----------|--------------------------------------------------|
| accountAssociation | object | Yes      | Verifies domain ownership to a Farcaster account |
| frame              | object | Yes      | Metadata about the Mini App                      |

#### accountAssociation

The account association verifies authorship of this domain to a Farcaster
account.

The value is set to the JSON representation of a [JSON Farcaster
Signature](https://github.com/farcasterxyz/protocol/discussions/208) from the
account's custody address with the following payload:

```json
{
  domain: string;
}
```

The `domain` value must exactly match the FQDN of where it is hosted.

##### Schema

| Property  | Type   | Required | Description               |
|-----------|--------|----------|---------------------------|
| header    | string | Yes      | base64 encoded JFS header |
| payload   | string | Yes      | base64 encoded payload    |
| signature | string | Yes      | base64 encoded signature  |


##### Example

```json
{
  "header": "eyJmaWQiOjM2MjEsInR5cGUiOiJjdXN0b2R5Iiwia2V5IjoiMHgyY2Q4NWEwOTMyNjFmNTkyNzA4MDRBNkVBNjk3Q2VBNENlQkVjYWZFIn0",
  "payload": "eyJkb21haW4iOiJ5b2luay5wYXJ0eSJ9",
  "signature": "MHgwZmJiYWIwODg3YTU2MDFiNDU3MzVkOTQ5MDRjM2Y1NGUxMzVhZTQxOGEzMWQ5ODNhODAzZmZlYWNlZWMyZDYzNWY4ZTFjYWU4M2NhNTAwOTMzM2FmMTc1NDlmMDY2YTVlOWUwNTljNmZiNDUxMzg0Njk1NzBhODNiNjcyZWJjZTFi"
}
```

#### frame

Metadata needed to by Hosts to distribute the Mini App.

| Property              | Type   | Required | Description                                       | Constraints                                                                                 |
|-----------------------|--------|----------|---------------------------------------------------|---------------------------------------------------------------------------------------------|
| version               | string | Yes      | Manifest version.                                 | Must be '1'.                                                                                |
| name                  | string | Yes      | Mini App name.                                    | Max length 32 characters                                                                    |
| homeUrl               | string | Yes      | Default launch URL                                | Max length 512 characters.                                                                  |
| iconUrl               | string | Yes      | Icon image URL                                    | Max length 512 characters.<br />Image must be 200x200px.                                    |
| imageUrl              | string | Yes      | Default image to show if shared in a feed.        | Max length 512 characters.<br />Image must be 3:2 aspect ratio.                             |
| buttonTitle           | string | Yes      | Default button title to show if shared in a feed. | Max length 32 characters.                                                                   |
| splashImageUrl        | string | No       | URL of image to show on loading screen.           | Max length 32 characters. Must be 200x200px.                                                |
| splashBackgroundColor | string | No       | Hex color code to use on loading screen.          | Hex color code.                                                                             |
| webhookUrl            | string | No       | URL to which clients will POST events.            | Max length 512 characters.<br />Must be set if the Mini App application uses notifications. |

##### Example

```json
{
  "version": "1",
  "name": "Yoink!",
  "iconUrl": "https://yoink.party/logo.png",
  "homeUrl": "https://yoink.party/framesV2/",
  "imageUrl": "https://yoink.party/framesV2/opengraph-image",
  "buttonTitle": "ðŸš© Start",
  "splashImageUrl": "https://yoink.party/logo.png",
  "splashBackgroundColor": "#f5f0ec",
  "webhookUrl": "https://yoink.party/api/webhook"
}
```

### Example

Example of a valid farcaster.json manifest:

```json
{
  "accountAssociation": {
    "header": "eyJmaWQiOjM2MjEsInR5cGUiOiJjdXN0b2R5Iiwia2V5IjoiMHgyY2Q4NWEwOTMyNjFmNTkyNzA4MDRBNkVBNjk3Q2VBNENlQkVjYWZFIn0",
    "payload": "eyJkb21haW4iOiJ5b2luay5wYXJ0eSJ9",
    "signature": "MHgwZmJiYWIwODg3YTU2MDFiNDU3MzVkOTQ5MDRjM2Y1NGUxMzVhZTQxOGEzMWQ5ODNhODAzZmZlYWNlZWMyZDYzNWY4ZTFjYWU4M2NhNTAwOTMzM2FmMTc1NDlmMDY2YTVlOWUwNTljNmZiNDUxMzg0Njk1NzBhODNiNjcyZWJjZTFi"
  },
  "frame": {
    "version": "1",
    "name": "Yoink!",
    "iconUrl": "https://yoink.party/logo.png",
    "homeUrl": "https://yoink.party/framesV2/",
    "imageUrl": "https://yoink.party/framesV2/opengraph-image",
    "buttonTitle": "ðŸš© Start",
    "splashImageUrl": "https://yoink.party/logo.png",
    "splashBackgroundColor": "#f5f0ec",
    "webhookUrl": "https://yoink.party/api/webhook"
  }
}
```


### Caching

Farcaster clients may cache the manifest for a Mini App but should provide a
way for refreshing the manifest file.


## Adding Mini Apps

Mini Apps can be added to their Farcaster client by users. This enables the user
to quickly navigate back to the app and the app to send notifications to the
user.

Mini Apps can prompt the user to add the app during an interaction with the
[addFrame](/docs/sdk/actions/add-frame) action. Hosts may also let users add Mini
Apps from discovery surfaces like app stores or featured notifications.

Before a user adds a Mini App the Host should display information about the app
and a reminder that the app will be able to notify the user.

When a user adds a Mini App the Host must generate the appropriate Server
Events and send them to the Mini App's `webhookUrl` if one was provided.

After a user adds a Mini App, the Host should make it easy to find and launch
the Mini App by providing a top-level interface where users can browse and open
added apps.


### Server Events

The Host server POSTs 4 types of events to the Mini App server at the
`webhookUrl` specified in its Mini App manifest:

- `frame_added`
- `frame_removed`
- `notifications_enabled`
- `notifications_disabled`

The body looks like this:

Events use the [JSON Farcaster
Signature](https://github.com/farcasterxyz/protocol/discussions/208) format and
are signed with the app key of the user. The final format is:

```
{
  header: string;
  payload: string;
  signature: string;
}
```

All 3 values are `base64url` encoded. The payload and header can be decoded to
JSON, where the payload is different per event.

#### frame_added

This event may happen when an open frame calls `actions.addFrame` to prompt the
user to favorite it, or when the frame is closed and the user adds the frame
elsewhere in the client application (e.g. from a catalog).

Adding a frame includes enabling notifications.

The Host server generates a unique `notificationToken` and sends it
together with the `notificationUrl` that the frame must call, to both the
Host client and the frame server. Client apps must generate unique
tokens for each user.

Webhook payload:

```json
{
  "event": "frame-added",
  "notificationDetails": {
    "url": "https://api.warpcast.com/v1/frame-notifications",
    "token": "a05059ef2415c67b08ecceb539201cbc6"
  }
}
```

```ts
type EventFrameAddedPayload = {
  event: 'frame_added';
  notificationDetails?: FrameNotificationDetails;
};
```

#### frame_removed

A user can remove a frame, which means that any notification tokens for that
fid and client app (based on signer requester) should be considered invalid:

Webhook payload:

```json
{
  "event": "frame-removed"
}
```

#### notifications_disabled

A user can disable frame notifications from e.g. a settings panel in the client
app. Any notification tokens for that fid and client app (based on signer
requester) should be considered invalid:

Webhook payload:

```json
{
  "event": "notifications_disabled"
}
```

#### notifications_enabled

A user can enable frame notifications (e.g. after disabling them). The client
backend again sends a `notificationUrl` and a `token`, with a backend-only
flow:

Webhook payload:

```json
{
  "event": "notifications-enabled",
  "notificationDetails": {
    "url": "https://api.warpcast.com/v1/frame-notifications",
    "token": "a05059ef2415c67b08ecceb539201cbc6"
  }
}
```

```ts
type EventNotificationsEnabledPayload = {
  event: 'notifications_enabled';
  notificationDetails: FrameNotificationDetails;
};
```

### Notifications

A Mini App server can send notifications to one or more users who have enabled
them.

The Mini App server is given an authentication token and a URL which they can
use to push a notification to the specific Farcaster app that invoked the Mini
App. This is private and must be done separately for each Farcaster client that
a user may use.

The Mini App server calls the `notificationUrl` with:

- `notificationId`: a string (max size 128) that serves as an idempotency key and will be passed back to the Mini App via context. A Farcaster client should deliver only one notification per user per `notificationId`, even if called multiple times.
- `title`: title of the notification, max length of 32 characters
- `body`: body of the notification
- `targetUrl`: the target Mini App URL to open when a user clicks the notification. It must match the domain for which the notification token was issued.
- `tokens`: an array of tokens (for that `notificationUrl`) to send the notification to. Client servers may impose a limit here, e.g. max 10000 tokens.

Client servers may also impose a rate limit per `token`, e.g. 5 sends per 5 minutes.

The response from the client server must be an HTTP 200 OK, with the following 3 arrays:

- `successTokens`: tokens for which the notification succeeded
- `invalidTokens`: tokens which are no longer valid and should never be used again. This could happen if the user disabled notifications but for some reason the Mini App server has no record of it.
- `rateLimitedTokens`: tokens for which the rate limit was exceeded. Mini App server can try later.

Once a user has been notified, when clicking the notification the client app will:

- Open `targetUrl`
- Set the context to the notification, see `NotificationLaunchContext`

Hosts should:

1. Display a list of added Mini Apps somewhere in their UI, allowing the user to enable/disable notifications.
2. Show notifications from added Mini Apps along with other in-app notifications.


